(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{581:function(t,e,n){"use strict";n.r(e),n.d(e,"currency",(function(){return o})),n.d(e,"number",(function(){return r}));var o=function(t){return Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t)},r=function(t){return Intl.NumberFormat().format(t)}},584:function(t,e,n){var o=n(357),r=n(49);t.exports=function(t,e,n){return n.get&&o(n.get,e,{getter:!0}),n.set&&o(n.set,e,{setter:!0}),r.f(t,e,n)}},594:function(t,e,n){var content=n(595);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("7f6d4ad6",content,!0,{sourceMap:!1})},595:function(t,e,n){var o=n(13)(!1);o.push([t.i,".theme--light.v-pagination .v-pagination__item{background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-pagination .v-pagination__item--active{color:#fff}.theme--light.v-pagination .v-pagination__navigation{background:#fff}.theme--dark.v-pagination .v-pagination__item{background:#1e1e1e;color:#fff}.theme--dark.v-pagination .v-pagination__item--active{color:#fff}.theme--dark.v-pagination .v-pagination__navigation{background:#1e1e1e}.v-pagination{align-items:center;display:inline-flex;list-style-type:none;justify-content:center;margin:0;max-width:100%;width:100%}.v-pagination.v-pagination{padding-left:0}.v-pagination>li{align-items:center;display:flex}.v-pagination--circle .v-pagination__item,.v-pagination--circle .v-pagination__more,.v-pagination--circle .v-pagination__navigation{border-radius:50%}.v-pagination--disabled{pointer-events:none;opacity:.6}.v-pagination__item{background:transparent;border-radius:4px;font-size:1rem;height:34px;margin:.3rem;min-width:34px;padding:0 5px;text-decoration:none;transition:.3s cubic-bezier(0,0,.2,1);width:auto;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-pagination__item--active{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-pagination__navigation{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);border-radius:4px;display:inline-flex;justify-content:center;align-items:center;text-decoration:none;height:32px;width:32px;margin:.3rem 10px}.v-pagination__navigation .v-icon{transition:.2s cubic-bezier(.4,0,.6,1);vertical-align:middle}.v-pagination__navigation--disabled{opacity:.6;pointer-events:none}.v-pagination__more{margin:.3rem;display:inline-flex;align-items:flex-end;justify-content:center;height:32px;width:32px}",""]),t.exports=o},601:function(t,e,n){var content=n(634);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("dd4ad0ca",content,!0,{sourceMap:!1})},633:function(t,e,n){"use strict";n(601)},634:function(t,e,n){var o=n(13)(!1);o.push([t.i,".total-invoice-wrapper tr td[data-v-0ffe9a72]:first-child{padding-right:10px}",""]),t.exports=o},662:function(t,e,n){"use strict";n(10),n(9),n(12),n(15),n(11),n(16);var o=n(64),r=n(1),c=(n(20),n(32),n(48),n(3),n(86),n(74),n(594),n(62)),l=n(129),d=n(23),v=n(255),m=n(19),f=n(4);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}e.a=Object(f.a)(d.a,Object(v.a)({onVisible:["init"]}),m.a).extend({name:"v-pagination",directives:{Resize:l.a},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1==0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var n=e%2==0?1:0,r=Math.floor(e/2),c=this.length-r+1+n;if(this.value>r&&this.value<c){var l=this.length,d=this.value-r+2,v=this.value+r-2-n,m=v+1===l-1?v+1:"...";return[1,d-1==2?2:"..."].concat(Object(o.a)(this.range(d,v)),[m,this.length])}if(this.value===r){var f=this.value+r-1-n;return[].concat(Object(o.a)(this.range(1,f)),["...",this.length])}if(this.value===c){var h=this.value-r+1;return[1,"..."].concat(Object(o.a)(this.range(h,this.length)))}return[].concat(Object(o.a)(this.range(1,r)),["..."],Object(o.a)(this.range(c,this.length)))}},watch:{value:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){for(var n=[],i=t=t>0?t:1;i<=e;i++)n.push(i);return n},genIcon:function(t,e,n,o,label){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{disabled:n,type:"button","aria-label":label},on:n?{}:{click:o}},[t(c.a,[e])])])},genItem:function(t,i){var e=this,n=i===this.value&&(this.color||"primary"),o=i===this.value,r=o?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":i===this.value},attrs:{type:"button","aria-current":o,"aria-label":this.$vuetify.lang.t(r,i)},on:{click:function(){return e.$emit("input",i)}}}),[i.toString()])},genItems:function(t){var e=this;return this.items.map((function(i,n){return t("li",{key:n},[isNaN(Number(i))?t("span",{class:"v-pagination__more"},[i.toString()]):e.genItem(t,i)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},667:function(t,e,n){var content=n(738);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("3ccd17ce",content,!0,{sourceMap:!1})},687:function(t,e,n){"use strict";n.r(e);var o=n(581),r={name:"PreviewDetailInvoicePage",props:{invoice:{type:null,default:{}},isLoading:{type:Boolean,default:!1}},emits:["close-dialog"],computed:{format:function(){return o}},methods:{closeDialog:function(){return this.$emit("close-dialog")}}},c=(n(633),n(28)),l=n(26),d=n.n(l),v=n(236),m=n(567),f=n(569),h=n(553),x=n(203),_=n(568),y=n(615),C=n(635),w=n(571),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.invoice!=={}?n("v-card",{staticClass:"pa-0 px-3"},[n("v-container",[n("c-text",{staticClass:"ma-0 text-right",staticStyle:{color:"#263D35"},attrs:{"font-size":"28","font-weight":"bold"},domProps:{textContent:t._s("Invoice")}}),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"auto"}},[t.isLoading?n("v-skeleton-loader",{attrs:{width:"85",height:"65",type:"image"}}):n("v-img",{attrs:{"max-width":"85","max-height":"65",src:"/images/logo/example-company-logo.png","lazy-src":"/images/logo/example-company-logo.png"}})],1),t._v(" "),t.isLoading?n("v-col",[n("v-skeleton-loader",{staticClass:"mb-1",attrs:{type:"heading"}}),t._v(" "),n("v-skeleton-loader",{attrs:{width:"100",type:"text"}}),t._v(" "),n("v-skeleton-loader",{attrs:{width:"100",type:"text"}})],1):n("v-col",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"18"},domProps:{textContent:t._s(t.invoice.businessName)}}),t._v(" "),n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12",color:"neutral700"},domProps:{textContent:t._s(t.invoice.phone)}}),t._v(" "),n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12",color:"neutral700"},domProps:{textContent:t._s(t.invoice.businessEmail)}})],1)],1),t._v(" "),n("v-row",[n("v-col",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s("Tagihan ke")}}),t._v(" "),t.isLoading?n("div",[n("v-skeleton-loader",{staticClass:"mb-1",attrs:{type:"heading"}}),t._v(" "),n("v-skeleton-loader",{attrs:{width:"100",type:"text"}})],1):n("div",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"19","font-weight":"600"},domProps:{textContent:t._s(t.invoice.firstName+" "+t.invoice.lastName)}}),t._v(" "),n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12",color:"neutral700"},domProps:{textContent:t._s(t.invoice.email)}})],1)],1)],1),t._v(" "),n("v-row",{attrs:{justify:"end",dense:""}},[n("v-spacer"),t._v(" "),n("v-col",{attrs:{cols:"auto"}},[n("table",{staticClass:"total-invoice-wrapper"},[n("tr",[n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"11","font-weight":"bold"},domProps:{textContent:t._s("ID Tagihan")}})],1),t._v(" "),n("td",[t.isLoading?n("v-skeleton-loader",{attrs:{width:"100",type:"text"}}):n("c-text",{staticClass:"ma-0",attrs:{"font-size":"11"},domProps:{textContent:t._s(t.invoice.invoiceNumber)}})],1)]),t._v(" "),n("tr",[n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"11","font-weight":"bold"},domProps:{textContent:t._s("Tanggal")}})],1),t._v(" "),n("td",[t.isLoading?n("v-skeleton-loader",{attrs:{width:"100",type:"text"}}):n("c-text",{staticClass:"ma-0",attrs:{"font-size":"11"},domProps:{textContent:t._s(t.$moment(t.invoice.date).format("DD/MM/YYYY"))}})],1)]),t._v(" "),n("tr",[n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"11","font-weight":"bold"},domProps:{textContent:t._s("Batas waktu")}})],1),t._v(" "),n("td",[t.isLoading?n("v-skeleton-loader",{attrs:{width:"100",type:"text"}}):n("c-text",{staticClass:"ma-0",attrs:{"font-size":"11"},domProps:{textContent:t._s(t.$moment(t.invoice.dueDate).format("DD/MM/YYYY"))}})],1)])])])],1),t._v(" "),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"black--text",domProps:{textContent:t._s("Item Description")}}),t._v(" "),n("th",{staticClass:"black--text",domProps:{textContent:t._s("Quantity")}}),t._v(" "),n("th",{staticClass:"black--text",domProps:{textContent:t._s("Unit Price")}}),t._v(" "),n("th",{staticClass:"black--text",domProps:{textContent:t._s("Amount")}})])]),t._v(" "),n("tbody",t._l(t.invoice.items,(function(e,o){return n("tr",{key:o},[n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"14"},domProps:{textContent:t._s(e.name)}}),t._v(" "),n("c-text",{staticClass:"ma-0",attrs:{"font-size":"10"},domProps:{textContent:t._s(e.description)}})],1),t._v(" "),n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(e.quantity)}})],1),t._v(" "),n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(t.format.currency(e.price))}})],1),t._v(" "),n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(t.format.currency(e.amount))}})],1)])})),0)]},proxy:!0}],null,!1,2037968304)}),t._v(" "),n("v-divider")],1)],1),t._v(" "),n("v-row",{attrs:{justify:"space-between"}},[n("v-col",{attrs:{cols:"auto"}},[t.isLoading?n("v-skeleton-loader",{attrs:{width:"200",type:"text"}}):n("c-text",{attrs:{"font-size":"12","font-weight":"bold"},domProps:{textContent:t._s("Metode Pembayaran: "+t.invoice.paymentType)}})],1),t._v(" "),n("v-col",{attrs:{cols:"auto"}},[n("table",{staticClass:"total-invoice-wrapper"},[n("tr",[n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12","font-weight":"600"},domProps:{textContent:t._s("Subtotal")}})],1),t._v(" "),n("td",[t.isLoading?n("v-skeleton-loader",{attrs:{width:"100",type:"text"}}):n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(t.format.currency(t.invoice.subTotal))}})],1)]),t._v(" "),n("tr",[n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12","font-weight":"600"},domProps:{textContent:t._s("Diskon")}})],1),t._v(" "),n("td",[t.isLoading?n("v-skeleton-loader",{attrs:{width:"100",type:"text"}}):n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(t.format.currency(t.invoice.discount))}})],1)]),t._v(" "),n("tr",[n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12","font-weight":"600"},domProps:{textContent:t._s("Pajak")}})],1),t._v(" "),n("td",[t.isLoading?n("v-skeleton-loader",{attrs:{width:"100",type:"text"}}):n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(t.format.currency(t.invoice.tax))}})],1)]),t._v(" "),n("tr",[n("td",[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"14","font-weight":"600"},domProps:{textContent:t._s("Total")}})],1),t._v(" "),n("td",[t.isLoading?n("v-skeleton-loader",{attrs:{width:"100",type:"text"}}):n("c-text",{staticClass:"ma-0",attrs:{"font-size":"14"},domProps:{textContent:t._s(t.format.currency(t.invoice.total))}})],1)])])])],1)],1)],1):t._e()}),[],!1,null,"0ffe9a72",null);e.default=component.exports;d()(component,{CText:n(143).default}),d()(component,{VCard:v.a,VCol:m.a,VContainer:f.a,VDivider:h.a,VImg:x.a,VRow:_.a,VSimpleTable:y.a,VSkeletonLoader:C.a,VSpacer:w.a})},737:function(t,e,n){"use strict";n(667)},738:function(t,e,n){var o=n(13)(!1);o.push([t.i,".btn-categories button[data-v-70d2b014]{border-radius:0 0 0 0;margin-left:.8px;margin-right:.8px}.btn-categories button[data-v-70d2b014]:last-child{border-radius:0 7px 0 0;margin-left:0;margin-right:0}.btn-categories button[data-v-70d2b014]:first-child{border-radius:7px 0 0 0;margin-left:0;margin-right:0}.data-table-wrapper[data-v-70d2b014] table thead{background-color:var(--v-grey-base)}.data-table-wrapper[data-v-70d2b014] table tbody tr td,.data-table-wrapper[data-v-70d2b014] table thead tr th{padding-left:10px!important;padding-right:10px!important}.data-table-wrapper[data-v-70d2b014] table tr .v-simple-checkbox i{color:var(--v-primary-base)}.pagination-wrapper[data-v-70d2b014] .v-pagination__navigation{background-color:var(--v-grey-base)!important}.pagination-wrapper[data-v-70d2b014] .v-pagination__navigation i{color:var(--v-black-base)!important}.btn-pagination-disabled[data-v-70d2b014]{opacity:.6;cursor:default!important}.btn-pagination[data-v-70d2b014]{background-color:var(--v-grey-base);border-radius:5px;cursor:pointer}.btn-pagination[data-v-70d2b014] i:last-child{transform:translateX(-7.5px)}.btn-pagination[data-v-70d2b014] i:first-child{transform:translateX(7.5px)}.import-file-dropzone[data-v-70d2b014]{border:1px dashed var(--v-primary-base);padding:4px!important;cursor:pointer}.import-file-dropzone-active[data-v-70d2b014]{border:5px dashed var(--v-primary-base);background-color:var(--v-primary100-base);padding:0!important}.import-file-dropzone-error[data-v-70d2b014]{border:5px dashed red;background-color:rgba(255,0,0,.1);padding:0!important}",""]),t.exports=o},765:function(t,e,n){"use strict";n.r(e);var o=n(25),r=(n(79),n(3),n(86),n(74),n(32),n(250),n(38),n(63),n(31),n(78),n(34),n(360),n(9),n(65),n(687)),c=n(581),l=n(110),d=n(252),v={name:"DataTableInvoicesPage",components:{PreviewDetailInvoicePage:r.default},data:function(){return{invoices:[],isLoading:!0,isLoadingDetailInvoice:!0,detailInvoiceDialog:!1,detailInvoice:{},importDialog:!1,successImportDialog:!1,showImportError:!1,dragover:!1,importedFiles:null,searchKeyword:"",selectedCategory:"all",page:1,pageCount:0,totalVisiblePagination:5,itemsPerPage:10,itemsPerPageSelect:[{text:"5",value:5},{text:"10",value:10},{text:"25",value:25},{text:"50",value:50}],selectedRow:[],headers:[{text:"Invoice ID",value:"invoiceNumber"},{text:"Invoice Date",value:"date",align:"center"},{text:"Invoice To",value:"to",align:"center"},{text:"Amount",value:"amount",align:"center"},{text:"Due Date",value:"dueDate",align:"center"},{text:"Status Invoice",value:"statusInvoice",align:"center",filter:this.filterByCategory},{text:"Status Payment",value:"statusPayment",align:"center"},{text:"Action",value:"action",align:"center",filter:!1}]}},computed:{mobile:function(){return this.$vuetify.breakpoint.mobile},checkedAll:function(){return!1},format:function(){return c}},mounted:function(){this.fetchInvoices()},methods:{fetchInvoices:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,d.get({url:l.f,data:{userid:t.$store.state.user.id.toString()},token:t.$store.state.user.token}).then((function(e){t.invoices=[],e.data.data.map((function(e){return t.invoices.push({id:e.id,invoiceNumber:e.invoice_number,date:e.date,to:"".concat(e.client.first_name," ").concat(e.client.last_name),amount:e.total,dueDate:e.date_due,statusInvoice:e.status,statusPayment:e.status_payment})}))})).catch((function(e){var n=e.response;t.$nuxt.$emit("open-snackbar",{message:n.data.message,status:n.status})})).finally((function(){t.isLoading=!1}));case 3:case"end":return e.stop()}}),e)})))()},statusPaymentColor:function(t){var e="neutral700",n="Pending";return"pending"===t.toLowerCase()?(e="neutral700",n="Pending"):"success"===t.toLowerCase()?(e="green",n="Success"):"expired"===t.toLowerCase()?(e="orange",n="Expired"):"failed"===t.toLowerCase()&&(e="red",n="Failed"),{color:e,text:n}},search:function(){},changeCategory:function(t){this.selectedCategory=t.toLowerCase()},filterByCategory:function(t,e,n){if(""===e){var o=t.toLowerCase();return"all"===this.selectedCategory.toLowerCase()||this.selectedCategory.toLowerCase()===o}return Object.values(n).some((function(t){return String(t).toLowerCase().includes(e.toLowerCase())}))},checkToAll:function(){},deleteInvoiceDialog:function(t){var e=this;this.$nuxt.$emit("open-message-dialog",{message:"Hapus Tagihan",description:"Apakah anda yakin ingin menghapus tagihan ini?",icon:"mdi-help-circle-outline",iconColor:"primary",actionButtons:[{color:"primary",text:"Ya",action:function(){e.deleteInvoiceAction(t)}},{color:"red",text:"Batal"}]})},deleteInvoiceAction:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,e.$nuxt.$emit("open-loading",!0),n.next=4,d.del({url:l.b+"/"+t.toString(),token:e.$store.state.user.token}).then((function(t){r=t})).catch((function(t){r=t.response})).finally(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nuxt.$emit("open-loading",!1),t.next=3,e.fetchInvoices();case 3:e.$nuxt.$emit("open-snackbar",{message:null!==r.data.message?r.data.message:"Maaf terjadi kesalahan",status:r.status});case 4:case"end":return t.stop()}}),t)}))));case 4:case"end":return n.stop()}}),n)})))()},onDrop:function(t){this.showImportError=!1,this.dragover=!1;var e=t.files[0].name.split("."),n=e[e.length-1],o=t.files[0].size;("xls"===n||"xlsx"===n)&&o<=10485760?(this.importedFiles=t.files[0],this.importedFiles.extension=n):this.showImportError=!0},submitImport:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,t.$nuxt.$emit("open-loading",!0),e.next=4,d.post({url:l.e,token:t.$store.state.user.token,data:{files:t.importedFiles},headers:{"Content-Type":"multipart/form-data"}}).then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o,t.importDialog=!t.importDialog,t.successImportDialog=!t.successImportDialog,e.next=5,t.fetchInvoices();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n=e.response,t.$nuxt.$emit("open-snackbar",{message:null!==n.data.message?n.data.message:"Maaf terjadi kesalahan",status:n.status})})).finally((function(){t.$nuxt.$emit("open-loading",!1)}));case 4:case"end":return e.stop()}}),e)})))()},formatFileSize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===t)return"0 Bytes";var n=1e3,o=e||2,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,i)).toFixed(o))+" "+r[i]},fetchDetailInvoice:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoadingDetailInvoice=!0,e.detailInvoiceDialog=!0,e.detailInvoice={},n.next=5,d.get({url:"".concat(l.c,"/").concat(t),token:e.$store.state.user.token}).then((function(t){var n=t.data;e.detailInvoice={id:n.data.invoice.id,invoiceNumber:n.data.invoice.invoice_number,firstName:n.data.invoice.client.first_name,lastName:n.data.invoice.client.last_name,email:n.data.invoice.client.email,phone:n.data.invoice.client.phone_number,province:n.data.invoice.client.state,city:n.data.invoice.client.city,postalCode:n.data.invoice.client.postal_code,businessName:"PT Mitra Makmur Sejahtera",businessEmail:"mitramakmur@gmail.com",date:n.data.invoice.date,dueDate:n.data.invoice.date_due,paymentType:"online"===n.data.invoice.type_payment?"Online":"Cash",subTotal:n.data.invoice.sub_total,total:n.data.invoice.total,discount:0,tax:0,items:[]},n.data.invoice.additional_costs.map((function(t){return"tax"===t.type.toLowerCase()?e.detailInvoice.tax=t.total:"disc"===t.type.toLowerCase()&&(e.detailInvoice.discount=t.total),null})),n.data.invoice.items.map((function(t){return e.detailInvoice.items.push({id:t.id,name:t.name,quantity:t.quantity,description:t.description,price:t.price,amount:t.price*t.quantity})}))})).catch((function(t){e.detailInvoiceDialog=!1;var n=t.response;e.$nuxt.$emit("open-snackbar",{message:n.data.message,status:n.status})})).finally((function(){e.isLoadingDetailInvoice=!1}));case 5:case"end":return n.stop()}}),n)})))()}}},m=v,f=(n(737),n(28)),h=n(26),x=n.n(h),_=n(551),y=n(236),C=n(622),w=n(567),P=n(569),k=n(771),I=n(566),D=n(553),z=n(235),L=n(203),$=n(237),j=n(164),S=n(238),O=n(47),V=n(554),M=n(662),B=n(568),R=n(616),N=n(552),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0 mt-3"},[n("v-dialog",{attrs:{"max-width":"600"},model:{value:t.detailInvoiceDialog,callback:function(e){t.detailInvoiceDialog=e},expression:"detailInvoiceDialog"}},[n("PreviewDetailInvoicePage",{attrs:{invoice:t.detailInvoice,"is-loading":t.isLoadingDetailInvoice},on:{"close-dialog":function(e){t.detailInvoiceDialog=!t.detailInvoiceDialog}}})],1),t._v(" "),n("v-container",{staticClass:"pa-0"},[n("v-row",{attrs:{justify:"end"}},[n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{placeholder:"Search Invoices",color:"white",solo:"","append-icon":"mdi-magnify"},on:{"click:append":t.search},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1)],1)],1),t._v(" "),n("v-container",{staticClass:"btn-categories"},[n("v-row",{attrs:{justify:"end"}},[n("v-btn",{attrs:{elevation:"0",dark:"",color:t.selectedCategory==="All".toLowerCase()?"primary900":"primary400"},domProps:{textContent:t._s("All")},on:{click:function(e){return t.changeCategory("All")}}}),t._v(" "),n("v-btn",{attrs:{elevation:"0",dark:"",color:t.selectedCategory==="Paid".toLowerCase()?"primary900":"primary400"},domProps:{textContent:t._s("Paid")},on:{click:function(e){return t.changeCategory("Paid")}}}),t._v(" "),n("v-btn",{attrs:{elevation:"0",dark:"",color:t.selectedCategory==="Unpaid".toLowerCase()?"primary900":"primary400"},domProps:{textContent:t._s("Unpaid")},on:{click:function(e){return t.changeCategory("Unpaid")}}})],1)],1),t._v(" "),n("v-data-table",{staticClass:"elevation-2 data-table-wrapper",attrs:{headers:t.headers,items:t.invoices,page:t.page,"items-per-page":t.itemsPerPage,search:t.searchKeyword,"hide-default-footer":"","show-select":"","custom-filter":t.filterByCategory,loading:t.isLoading,"loading-text":"Memuat Data..."},on:{"update:page":function(e){t.page=e},"update:search":function(e){t.searchKeyword=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"item.invoiceNumber",fn:function(e){var o=e.item;return[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(""===o.invoiceNumber||null===o.invoiceNumber?"-":o.invoiceNumber)}})]}},{key:"item.date",fn:function(e){var o=e.item;return[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(""+t.$moment(o.date).format("DD MMM, YYYY"))}})]}},{key:"item.to",fn:function(e){var o=e.item;return[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(o.to)}})]}},{key:"item.amount",fn:function(e){var o=e.item;return[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"},domProps:{textContent:t._s(t.format.currency(o.amount))}})]}},{key:"item.dueDate",fn:function(e){var o=e.item;return[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12",color:t.$moment(o.dueDate).diff(t.$moment(),"days")>0?"orange":""},domProps:{textContent:t._s(""+(t.$moment(o.dueDate).diff(t.$moment(),"days")>0?t.$moment(o.dueDate).endOf().fromNow():"Sudah Lewat"))}})]}},{key:"item.statusInvoice",fn:function(e){var o=e.item;return[n("v-chip",{staticStyle:{"font-size":"12px"},attrs:{color:"unpaid"===o.statusInvoice.toLowerCase()?"grey":"primary200"},domProps:{textContent:t._s("unpaid"===o.statusInvoice.toLowerCase()?"Unpaid":"Paid")}})]}},{key:"item.statusPayment",fn:function(e){var o=e.item;return[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"}},[n("v-icon",{attrs:{color:t.statusPaymentColor(o.statusPayment).color,size:"10"},domProps:{textContent:t._s("mdi-circle")}}),t._v("\n        "+t._s(t.statusPaymentColor(o.statusPayment).text)+"\n      ")],1)]}},{key:"item.action",fn:function(e){var o=e.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",small:""}},"v-btn",r,!1),o),[n("v-icon",{attrs:{size:"20"},domProps:{textContent:t._s("mdi-dots-vertical")}})],1)]}}],null,!0)},[t._v(" "),n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.fetchDetailInvoice(o.id)}}},[n("v-list-item-title",{domProps:{textContent:t._s("Detail")}})],1),t._v(" "),n("v-divider"),t._v(" "),n("v-list-item",{attrs:{dense:""},on:{click:function(e){return t.deleteInvoiceDialog(o.id)}}},[n("v-list-item-title",{domProps:{textContent:t._s("Hapus")}})],1)],1)],1)]}}],null,!0),model:{value:t.selectedRow,callback:function(e){t.selectedRow=e},expression:"selectedRow"}}),t._v(" "),n("v-container",[n("v-row",{attrs:{justify:"space-between"}},[n("v-col",{attrs:{cols:"auto"}},[n("v-container",{staticClass:"px-0"},[n("v-row",[n("v-col",{staticClass:"px-0",attrs:{"align-self":"center"}},[n("div",{class:"btn-pagination elevation-2 pa-1 px-0 "+(1===t.page?"btn-pagination-disabled":""),on:{click:function(e){t.page=1}}},[n("v-icon",{attrs:{color:"black"},domProps:{textContent:t._s("mdi-chevron-left")}}),t._v(" "),n("v-icon",{attrs:{color:"black"},domProps:{textContent:t._s("mdi-chevron-left")}})],1)]),t._v(" "),n("v-col",{staticClass:"px-0"},[n("v-pagination",{staticClass:"pagination-wrapper",attrs:{length:t.pageCount,"total-visible":t.totalVisiblePagination},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),t._v(" "),n("v-col",{staticClass:"px-0",attrs:{"align-self":"center"}},[n("div",{class:"btn-pagination elevation-2 pa-1 px-0 "+(t.page===t.pageCount?"btn-pagination-disabled":""),on:{click:function(e){t.page=t.pageCount}}},[n("v-icon",{attrs:{color:"black"},domProps:{textContent:t._s("mdi-chevron-right")}}),t._v(" "),n("v-icon",{attrs:{color:"black"},domProps:{textContent:t._s("mdi-chevron-right")}})],1)])],1)],1)],1),t._v(" "),t.mobile?n("v-col",{attrs:{cols:"6","align-self":"center"}},[n("v-container",[n("v-select",{attrs:{items:t.itemsPerPageSelect,"item-text":"text","item-value":"value",dense:"",solo:""},on:{input:function(){t.page=1,t.totalVisiblePagination=5}},model:{value:t.itemsPerPage,callback:function(e){t.itemsPerPage=e},expression:"itemsPerPage"}})],1)],1):t._e(),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-container",{staticClass:"pe-0"},[n("v-row",{attrs:{justify:"end"}},[t.mobile?t._e():n("v-col",{staticClass:"px-0",attrs:{cols:"2"}},[n("v-select",{attrs:{items:t.itemsPerPageSelect,"item-text":"text","item-value":"value",dense:"",solo:""},on:{input:function(){t.page=1,t.totalVisiblePagination=5}},model:{value:t.itemsPerPage,callback:function(e){t.itemsPerPage=e},expression:"itemsPerPage"}})],1),t._v(" "),n("v-col",{class:"pe-0 "+(t.mobile?"ps-0":""),attrs:{cols:"auto"}},[n("v-btn",{attrs:{color:"primary"},domProps:{textContent:t._s("Remind")}})],1),t._v(" "),n("v-col",{staticClass:"pe-0",attrs:{cols:"auto"}},[n("v-btn",{attrs:{color:"primary"},domProps:{textContent:t._s("Export")}})],1),t._v(" "),n("v-col",{staticClass:"pe-0",attrs:{cols:"auto"}},[n("v-btn",{attrs:{color:"primary"},domProps:{textContent:t._s("Import")},on:{click:function(e){t.importDialog=!t.importDialog}}})],1)],1)],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"600"},model:{value:t.importDialog,callback:function(e){t.importDialog=e},expression:"importDialog"}},[n("v-card",{attrs:{rounded:"lg"}},[n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-row",{staticClass:"mx-3 my-1",attrs:{justify:"space-between"}},[n("v-col",{attrs:{cols:"auto"}},[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"24","font-weight":"bold"},domProps:{textContent:t._s("Import Invoices")}})],1),t._v(" "),n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){t.importDialog=!t.importDialog}}},[n("v-icon",{attrs:{size:"30"}},[t._v("\n                mdi-window-close\n              ")])],1)],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticClass:"px-15 py-10"},[n("input",{ref:"fileBrowser",staticStyle:{display:"none"},attrs:{type:"file",accept:".jpg, .png, .jpeg"},on:{input:function(e){return e.preventDefault(),t.onDrop(e.target)}}}),t._v(" "),n("v-container",{class:"import-file-dropzone rounded-xl "+(t.dragover?"import-file-dropzone-active":t.showImportError?"import-file-dropzone-error":""),on:{drop:function(e){return e.preventDefault(),t.onDrop(e.dataTransfer)},dragover:function(e){e.preventDefault(),t.dragover=!0},dragenter:function(e){e.preventDefault(),t.dragover=!0},dragleave:function(e){e.preventDefault(),t.dragover=!1},click:function(e){return t.$refs.fileBrowser.click()}}},[n("v-img",{staticClass:"mx-auto mt-5",attrs:{"max-width":"90","max-height":"90",src:"/images/icon/upload-cloud-icon.svg","lazy-src":"/images/icon/upload-cloud-icon.svg"}}),t._v(" "),n("c-text",{staticClass:"text-center ma-0",attrs:{"font-size":"18"},domProps:{textContent:t._s("Drag and drop File Here to Upload")}}),t._v(" "),n("c-text",{staticClass:"text-center mb-5",domProps:{textContent:t._s("MAX. File Size : 10MB")}})],1),t._v(" "),n("v-card",{directives:[{name:"show",rawName:"v-show",value:t.showImportError,expression:"showImportError"}],staticClass:"pa-1 my-3 text-center",attrs:{rounded:"lg",color:"red",dark:"",flat:""}},[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12"}},[t._v("\n              File harus memiliki format excel (.xls, .xlsx) dan tidak lebih dari 10MB\n            ")])],1),t._v(" "),null!==t.importedFiles?n("v-list",[n("v-list-item",{staticClass:"elevation-2 mt-3 rounded-lg",attrs:{dense:""}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"black",size:"35"},domProps:{textContent:t._s("mdi-microsoft-excel")}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"pa-0"},[n("c-text",{staticClass:"ma-0",attrs:{"font-size":"14","font-weight":"600"},domProps:{textContent:t._s(t.importedFiles.name)}}),t._v(" "),n("c-text",{staticClass:"ma-0",attrs:{"font-size":"12",color:"neutral700"},domProps:{textContent:t._s(t.formatFileSize(t.importedFiles.size))}})],1)],1),t._v(" "),n("v-btn",{attrs:{color:"red",icon:""},on:{click:function(e){t.importedFiles=null}}},[n("v-icon",{domProps:{textContent:t._s("mdi-window-close")}})],1)],1)],1):t._e(),t._v(" "),null!==t.importedFiles?n("v-container",[n("v-row",{attrs:{justify:"end"}},[n("v-btn",{staticClass:"mt-5",attrs:{color:"primary"},domProps:{textContent:t._s("Submit")},on:{click:t.submitImport}})],1)],1):t._e()],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.successImportDialog,callback:function(e){t.successImportDialog=e},expression:"successImportDialog"}},[n("v-card",{staticClass:"pa-5"},[n("v-container",{attrs:{fluid:""}},[n("v-row",{staticClass:"mb-5",attrs:{justify:"end"}},[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){t.successImportDialog=!t.successImportDialog}}},[n("v-icon",{attrs:{size:"30"},domProps:{textContent:t._s("mdi-window-close")}})],1)],1),t._v(" "),n("v-row",{staticClass:"flex-column align-center",attrs:{justify:"center"}},[n("v-img",{staticClass:"mb-5",attrs:{"max-width":"100","max-height":"100",src:"/images/icon/success-icon.svg","lazy-src":"/images/icon/success-icon.svg"}}),t._v(" "),n("c-text",{staticClass:"text-center",attrs:{"font-size":"24","font-weight":"bold"},domProps:{textContent:t._s("File Uploaded Successfully!")}})],1)],1)],1)],1)],1)}),[],!1,null,"70d2b014",null);e.default=component.exports;x()(component,{CText:n(143).default}),x()(component,{VBtn:_.a,VCard:y.a,VChip:C.a,VCol:w.a,VContainer:P.a,VDataTable:k.a,VDialog:I.a,VDivider:D.a,VIcon:z.a,VImg:L.a,VList:$.a,VListItem:j.a,VListItemAction:S.a,VListItemContent:O.a,VListItemTitle:O.b,VMenu:V.a,VPagination:M.a,VRow:B.a,VSelect:R.a,VTextField:N.a})}}]);