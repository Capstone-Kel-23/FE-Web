<template>
  <v-card
    width="100%"
    class="pa-0 export-wrapper"
    flat
  >
    <v-container>
      <v-row dense>
        <v-col>
          <c-text
            font-size="12"
            font-weight="bold"
            v-text="'TAGIHAN'"
          />
          <c-text
            font-size="12"
            v-text="invoice.invoiceNumber"
          />
        </v-col>
        <v-col cols="auto">
          <c-text
            font-size="12"
            font-weight="bold"
            class="text-right"
            v-text="'SALDO JATUH TEMPO'"
          />
          <c-text
            font-size="12"
            class="text-right"
            v-text="`IDR ${format.currency(invoice.total)}`"
          />
        </v-col>
      </v-row>
      <v-row dense>
        <v-col>
          <c-text
            font-size="12"
            font-weight="bold"
            v-text="'TANGGAL'"
          />
          <c-text
            font-size="12"
            v-text="$moment(invoice.date).format('DD MMM, YYYY')"
          />
        </v-col>
        <v-col cols="auto">
          <c-text
            font-size="12"
            font-weight="bold"
            class="text-right"
            v-text="'BATAS WAKTU'"
          />
          <c-text
            font-size="12"
            class="text-right"
            v-text="$moment(invoice.date).format('DD MMM, YYYY')"
          />
        </v-col>
      </v-row>
    </v-container>
    <v-divider />
    <v-container>
      <v-row>
        <v-col cols="auto">
          <svg width="85" height="63" viewBox="0 0 85 63" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.20085 37.8C0.695237 31.8 0.00703447 25.8 0.00703447 20.7C-0.165016 14.7 2.75984 0 15.3195 0C21.8575 0 26.5602 3.6 28.2233 5.4V0.6H85V16.2H75.3652V37.8H63.3216V16.2H40.2669V22.2H52.9986V37.8H6.20085ZM15.8357 15.6C19.1047 15.6 22.5457 18.6 24.4382 22.2H28.2233V34.2C27.019 30.9 24.163 26.76 19.6208 24.6C18.4553 23.9534 17.2898 23.5116 16.2348 23.1116C13.8636 22.2127 12.0506 21.5254 12.0506 19.2C12.0506 16.8 12.8076 15.6 15.8357 15.6Z" fill="black" />
            <path d="M0 62.8701V47.4868H3.80796C4.23936 47.4868 4.63758 47.6457 5.00261 47.9635C5.36764 48.2668 5.67875 48.6713 5.93593 49.1768C6.20141 49.6679 6.40882 50.2385 6.55815 50.8885C6.70748 51.524 6.78215 52.1668 6.78215 52.8168C6.78215 53.4957 6.71163 54.1601 6.57059 54.8101C6.42956 55.4457 6.23045 56.0163 5.97327 56.5218C5.72438 57.0129 5.41742 57.4101 5.05239 57.7135C4.69565 58.0024 4.30158 58.1468 3.87018 58.1468H2.42664V62.8701H0ZM2.42664 54.4635H3.7084C3.85773 54.4635 3.99462 54.3479 4.11906 54.1168C4.2518 53.8713 4.31817 53.4379 4.31817 52.8168C4.31817 52.1813 4.24351 51.7479 4.09418 51.5168C3.94484 51.2857 3.79551 51.1701 3.64618 51.1701H2.42664V54.4635Z" fill="#7C4DFF" />
            <path d="M12.0536 62.8701V47.4868H16.1104C16.5418 47.4868 16.94 47.6457 17.3051 47.9635C17.6701 48.2668 17.9812 48.6713 18.2384 49.1768C18.5039 49.6679 18.7113 50.2385 18.8606 50.8885C19.0099 51.524 19.0846 52.1668 19.0846 52.8168C19.0846 53.7124 18.9726 54.5501 18.7486 55.3301C18.5246 56.0957 18.2135 56.724 17.8153 57.2151L19.6819 62.8701H16.9442L15.3887 58.1468H14.4802V62.8701H12.0536ZM14.4802 54.4635H16.0109C16.1602 54.4635 16.2971 54.319 16.4215 54.0301C16.5543 53.7413 16.6206 53.3368 16.6206 52.8168C16.6206 52.2824 16.546 51.8779 16.3966 51.6035C16.2473 51.3146 16.098 51.1701 15.9486 51.1701H14.4802V54.4635Z" fill="#7C4DFF" />
            <path d="M28.6241 63.0002C27.9521 63.0002 27.3423 62.7763 26.7947 62.3285C26.2472 61.8807 25.7785 61.2957 25.3885 60.5735C24.9986 59.8368 24.6958 58.999 24.4801 58.0601C24.2644 57.1213 24.1566 56.1535 24.1566 55.1568C24.1566 54.1457 24.2686 53.1707 24.4925 52.2318C24.7165 51.2929 25.0277 50.4696 25.4259 49.7618C25.8324 49.0396 26.3094 48.469 26.857 48.0501C27.4128 47.6168 28.0184 47.4001 28.6738 47.4001C29.3458 47.4001 29.9556 47.624 30.5031 48.0718C31.0507 48.5196 31.5194 49.1118 31.9094 49.8485C32.2993 50.5851 32.5979 51.4229 32.8053 52.3618C33.021 53.3007 33.1289 54.2613 33.1289 55.2435C33.1289 56.2546 33.0169 57.2296 32.7929 58.1685C32.5689 59.0929 32.2578 59.9163 31.8596 60.6385C31.4614 61.3463 30.9843 61.9168 30.4285 62.3502C29.8809 62.7835 29.2795 63.0002 28.6241 63.0002ZM26.6205 55.2001C26.6205 55.7201 26.662 56.2257 26.745 56.7168C26.8279 57.1935 26.9524 57.6196 27.1183 57.9951C27.2842 58.3707 27.4916 58.674 27.7405 58.9051C27.9977 59.1363 28.3005 59.2518 28.6489 59.2518C28.9974 59.2518 29.3002 59.1363 29.5574 58.9051C29.8146 58.6596 30.022 58.349 30.1796 57.9735C30.3455 57.5835 30.4658 57.1429 30.5405 56.6518C30.6234 56.1607 30.6649 55.6624 30.6649 55.1568C30.6649 54.6368 30.6234 54.1385 30.5405 53.6618C30.4575 53.1707 30.3289 52.7446 30.1547 52.3835C29.9888 52.0079 29.7772 51.7118 29.52 51.4951C29.2712 51.264 28.9766 51.1485 28.6365 51.1485C28.2881 51.1485 27.9853 51.264 27.7281 51.4951C27.4792 51.7263 27.2718 52.0368 27.1059 52.4268C26.9399 52.8024 26.8155 53.2357 26.7325 53.7268C26.6579 54.2035 26.6205 54.6946 26.6205 55.2001Z" fill="#7C4DFF" />
            <path d="M38.4576 62.8701V47.4868H41.8549C42.585 47.4868 43.2279 47.689 43.7838 48.0935C44.3396 48.4979 44.8042 49.0468 45.1775 49.7401C45.5508 50.4335 45.8329 51.2496 46.0237 52.1885C46.2145 53.1129 46.31 54.1024 46.31 55.1568C46.31 56.3268 46.2021 57.3885 45.9864 58.3418C45.779 59.2807 45.4803 60.0896 45.0904 60.7685C44.7005 61.4329 44.2318 61.9529 43.6842 62.3285C43.1367 62.6896 42.5269 62.8701 41.8549 62.8701H38.4576ZM43.846 55.1568C43.846 54.5646 43.8004 54.0229 43.7091 53.5318C43.6178 53.0407 43.4851 52.6218 43.3109 52.2751C43.145 51.9285 42.9375 51.6613 42.6887 51.4735C42.4398 51.2713 42.1618 51.1701 41.8549 51.1701H40.8842V59.1868H41.8549C42.1701 59.1868 42.4522 59.0857 42.7011 58.8835C42.95 58.6813 43.1574 58.3996 43.3233 58.0385C43.4975 57.6774 43.6261 57.2513 43.7091 56.7601C43.8004 56.269 43.846 55.7346 43.846 55.1568Z" fill="#7C4DFF" />
            <path d="M55.5234 59.2518C55.8055 59.2518 56.0461 59.1435 56.2452 58.9268C56.4443 58.7101 56.6061 58.4285 56.7305 58.0818C56.8549 57.7207 56.9462 57.309 57.0043 56.8468C57.0624 56.3846 57.0914 55.9007 57.0914 55.3951V47.4868H59.518V55.3951C59.518 56.464 59.4392 57.4679 59.2816 58.4068C59.124 59.3313 58.8792 60.1329 58.5474 60.8118C58.2155 61.4907 57.7966 62.0251 57.2905 62.4151C56.7927 62.8052 56.2037 63.0002 55.5234 63.0002C54.8182 63.0002 54.2126 62.7979 53.7066 62.3935C53.2088 61.9746 52.7981 61.4185 52.4746 60.7251C52.151 60.0318 51.9146 59.2301 51.7652 58.3201C51.6159 57.3957 51.5412 56.4207 51.5412 55.3951V47.4868H53.9679V55.3951C53.9679 55.9007 53.9969 56.3918 54.055 56.8685C54.1131 57.3307 54.2043 57.7424 54.3288 58.1035C54.4532 58.4501 54.6108 58.7318 54.8016 58.9485C55.0008 59.1507 55.2413 59.2518 55.5234 59.2518Z" fill="#7C4DFF" />
            <path d="M64.7287 55.0485C64.7287 54.1096 64.8283 53.1851 65.0274 52.2751C65.2348 51.3651 65.5334 50.549 65.9234 49.8268C66.3133 49.1046 66.7862 48.5196 67.342 48.0718C67.8979 47.624 68.5325 47.4001 69.246 47.4001C70.1005 47.4001 70.8389 47.7107 71.4611 48.3318C72.0916 48.9385 72.5603 49.7474 72.8673 50.7585L71.0131 53.0551C70.9301 52.6796 70.8181 52.369 70.6771 52.1235C70.5443 51.8779 70.395 51.6829 70.2291 51.5385C70.0632 51.394 69.8889 51.2929 69.7064 51.2351C69.5322 51.1774 69.3621 51.1485 69.1962 51.1485C68.8478 51.1485 68.545 51.2713 68.2878 51.5168C68.0389 51.7479 67.8315 52.0585 67.6656 52.4485C67.5079 52.824 67.3876 53.2574 67.3047 53.7485C67.23 54.2251 67.1927 54.7018 67.1927 55.1785C67.1927 55.7129 67.2383 56.2257 67.3296 56.7168C67.4208 57.2079 67.5536 57.6413 67.7278 58.0168C67.902 58.3924 68.1136 58.6957 68.3624 58.9268C68.6196 59.1435 68.9058 59.2518 69.2211 59.2518C69.387 59.2518 69.5571 59.2229 69.7313 59.1651C69.9055 59.0929 70.0715 58.9846 70.2291 58.8401C70.395 58.6813 70.5402 58.4863 70.6646 58.2551C70.7974 58.0096 70.9011 57.7135 70.9758 57.3668L72.9544 59.4251C72.8217 59.9885 72.6184 60.494 72.3446 60.9418C72.0791 61.3896 71.7722 61.7652 71.4237 62.0685C71.0836 62.3718 70.7144 62.6029 70.3162 62.7618C69.9263 62.9207 69.5447 63.0002 69.1713 63.0002C68.5159 63.0002 67.9145 62.7763 67.3669 62.3285C66.8276 61.8663 66.3589 61.2596 65.9607 60.5085C65.5708 59.7574 65.268 58.9051 65.0523 57.9518C64.8366 56.9985 64.7287 56.0307 64.7287 55.0485Z" fill="#7C4DFF" />
            <path d="M85 51.1701H82.4614V62.8701H80.0347V51.1701H77.4836V47.4868H85V51.1701Z" fill="#7C4DFF" />
          </svg>
        </v-col>
        <v-col>
          <c-text
            font-size="14"
            font-weight="bold"
            v-text="invoice.businessName"
          />
          <c-text
            font-size="12"
            color="neutral700"
            v-text="invoice.phone"
          />
          <c-text
            font-size="12"
            color="neutral700"
            v-text="invoice.email"
          />
        </v-col>
      </v-row>
    </v-container>
    <v-divider />
    <v-container class="py-2">
      <v-row>
        <v-col>
          <c-text
            font-size="12"
            font-weight="bold"
            v-text="'PEMBAYARAN KEPADA'"
          />
          <c-text
            font-size="14"
            font-weight="bold"
            v-text="`${invoice.firstName} ${invoice.lastName}`"
          />
        </v-col>
      </v-row>
    </v-container>
    <v-divider />
    <v-container class="pt-0 pb-2">
      <table class="w-100 items-table-wrapper">
        <tr>
          <th>
            <c-text
              font-size="12"
              font-weight="bold"
              class="text-left"
              v-text="'DESKRIPSI'"
            />
          </th>
          <th>
            <c-text
              font-size="12"
              font-weight="bold"
              v-text="'JUMLAH'"
            />
          </th>
          <th>
            <c-text
              font-size="12"
              font-weight="bold"
              class="text-right"
              v-text="'HARGA'"
            />
          </th>
        </tr>
        <tr>
          <td colspan="3">
            <v-row>
              <v-divider />
            </v-row>
          </td>
        </tr>
        <tr
          v-for="(item, index) in invoice.items"
          :key="index"
        >
          <td>
            <c-text
              font-size="12"
              v-text="item.name"
            />
            <c-text
              font-size="11"
              color="neutral800"
              v-text="item.description"
            />
          </td>
          <td>
            <c-text
              font-size="12"
              class="text-center"
              v-text="item.quantity"
            />
          </td>
          <td>
            <c-text
              font-size="12"
              class="text-right"
              v-text="format.currency(item.price)"
            />
          </td>
        </tr>
      </table>
    </v-container>
    <v-divider />
    <v-container class="py-1">
      <v-row>
        <v-col>
          <table class="w-100">
            <tr>
              <td>
                <c-text
                  font-size="12"
                  font-weight="bold"
                  v-text="'SUBTOTAL'"
                />
              </td>
              <td>
                <c-text
                  font-size="12"
                  class="text-right"
                  v-text="format.currency(invoice.subTotal)"
                />
              </td>
            </tr>
            <tr>
              <td>
                <c-text
                  font-size="12"
                  font-weight="bold"
                  v-text="'DISKON'"
                />
              </td>
              <td>
                <c-text
                  font-size="12"
                  class="text-right"
                  v-text="`-${format.currency(invoice.discount)}`"
                />
              </td>
            </tr>
            <tr>
              <td>
                <c-text
                  font-size="12"
                  font-weight="bold"
                  v-text="'TAX'"
                />
              </td>
              <td>
                <c-text
                  font-size="12"
                  class="text-right"
                  v-text="format.currency(invoice.tax)"
                />
              </td>
            </tr>
          </table>
        </v-col>
      </v-row>
    </v-container>
    <v-divider />
    <v-container class="py-1">
      <v-row>
        <v-col>
          <c-text
            font-size="12"
            font-weight="bold"
            v-text="'TOTAL'"
          />
        </v-col>
        <v-col cols="auto">
          <c-text
            font-size="14"
            font-weight="bold"
            class="text-right"
            v-text="format.currency(invoice.total)"
          />
        </v-col>
      </v-row>
    </v-container>
  </v-card>
</template>

<script>
import * as numberFormat from '@/utils/numberFormat'

export default {
  name: 'ExportContainer',

  props: {
    invoice: {
      type: null,
      default: {}
    }
  },

  computed: {
    format () {
      return numberFormat
    }
  }
}
</script>

<style scoped>
  p {
    margin: 0;
  }

  .w-100 {
    width: 100%;
  }

  .export-wrapper {
    font-family: 'Poppins', sans-serif;;
  }

  .company-logo-wrapper {
    max-width: 80;
    max-height: 65;
    width: 80;
    height: 65;
    overflow: hidden;
  }

  .text-right {
    text-align: right;
  }

  .text-center {
    text-align: center;
  }

  .text-left {
    text-align: left;
  }

  .items-table-wrapper {
    border-spacing: 0px;
  }

  .items-table-wrapper tr th {
    padding-bottom: 20px;
  }

  .v-divider {
    border-color: var(--v-neutral600-base);
  }

  .total-invoice-wrapper tr td:first-child {
    padding-right: 10px;
  }

  .w-100 {
    width: 100%;
  }
</style>
